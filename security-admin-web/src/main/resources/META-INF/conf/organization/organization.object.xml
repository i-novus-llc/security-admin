<?xml version='1.0' encoding='UTF-8'?>
<object xmlns="http://n2oapp.net/framework/config/schema/object-3.0" name="Пользователи">

    <operations>
        <operation id="create" success-text="Данные о организации сохранены">
            <invocation>
                <java method="create" class="net.n2oapp.security.admin.api.service.OrganizationService">
                    <spring/>
                    <arguments>
                        <argument name="organization" class="net.n2oapp.security.admin.api.model.Organization"/>
                    </arguments>
                </java>
            </invocation>
            <in-parameters>
                <param id="shortName" mapping="[0].shortName" domain="string" required="true"/>
                <param id="code" mapping="[0].code" domain="string"/>
                <param id="ogrn" mapping="[0].ogrn" domain="string" required="true"/>
                <param id="fullName" mapping="[0].fullName" domain="string" required="true"/>
                <param id="inn" mapping="[0].inn" domain="string" required="true"/>
                <param id="kpp" mapping="[0].kpp" domain="string"/>
                <param id="legalAddress" mapping="[0].legalAddress" domain="string"/>
                <param id="email" mapping="[0].email" domain="string"/>
                <param id="okpo" mapping="[0].okpo" domain="string"/>
                <param id="roles*.id" mapping="[0].roleIds" domain="integer[]"/>
                <param id="orgCategories*.id" mapping="[0].orgCategoryIds" domain="integer[]"/>
            </in-parameters>
            <out-parameters>
                <param id="id" mapping="id"/>
            </out-parameters>
            <validations/>
        </operation>

        <operation id="update" success-text="Данные о организации сохранены">
            <invocation>
                <java method="update" class="net.n2oapp.security.admin.api.service.OrganizationService">
                    <spring/>
                    <arguments>
                        <argument name="organization" class="net.n2oapp.security.admin.api.model.Organization"/>
                    </arguments>
                </java>
            </invocation>
            <in-parameters>
                <param id="id" mapping="[0].id" domain="integer" required="true"/>
                <param id="code" mapping="[0].code" domain="string"/>
                <param id="shortName" mapping="[0].shortName" domain="string" required="true"/>
                <param id="ogrn" mapping="[0].ogrn" domain="string" required="true"/>
                <param id="fullName" mapping="[0].fullName" domain="string" required="true"/>
                <param id="inn" mapping="[0].inn" domain="string" required="true"/>
                <param id="kpp" mapping="[0].kpp" domain="string"/>
                <param id="legalAddress" mapping="[0].legalAddress" domain="string"/>
                <param id="email" mapping="[0].email" domain="string"/>
                <param id="okpo" mapping="[0].okpo" domain="string"/>
                <param id="roles*.id" mapping="[0].roleIds" domain="integer[]"/>
                <param id="orgCategories*.id" mapping="[0].orgCategoryIds" domain="integer[]"/>
            </in-parameters>
            <out-parameters>
                <param id="id" mapping="id"/>
            </out-parameters>
            <validations/>
        </operation>

        <operation id="delete"
                   confirm-text="Вы уверены, что хотите удалить организацию?"
                   success-text="Организация удалена">
            <invocation>
                <java method="delete" class="net.n2oapp.security.admin.api.service.OrganizationService">
                    <spring/>
                    <arguments>
                        <argument name="id" class="java.lang.Integer"/>
                    </arguments>
                </java>
            </invocation>
            <in-parameters>
                <param id="id" mapping="[0]" domain="integer" required="true"/>
            </in-parameters>
            <validations/>
        </operation>

        <operation id="getByOgrn" fail-text="Организации с данным ОГРН не найдено">
            <invocation>
                <java method="find" class="net.n2oapp.security.admin.api.service.OrganizationService">
                    <spring/>
                    <arguments>
                        <argument name="ogrn" class="java.lang.Integer"/>
                    </arguments>
                </java>
            </invocation>
            <in-parameters>
                <param id="ogrn" mapping="[0]" domain="integer"/>
            </in-parameters>
            <out-parameters>
                <param id="fullName" mapping="fullName"/>
            </out-parameters>
        </operation>
    </operations>
</object>