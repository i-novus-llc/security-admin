<?xml version='1.0' encoding='UTF-8'?>
<simple-page xmlns="http://n2oapp.net/framework/config/schema/page-2.0" object-id="${access.user.object.id}" name="Изменение пользователя">
    <form query-id="${access.user.query.id}">
        <fields>
            <row>
                <input-text id="username" enabled="false"/>
                <input-text id="email" label="Email"
                            required="${access.user.email.required}">
                    <validations white-list="emailValidation"/>
                </input-text>
            </row>
            <row>
                <password id="newPassword" label="Новый пароль"
                          visible="${access.user.password.editable}" eye="false">
                    <validations white-list="newPasswordLengthValidation,newPasswordValidation"/>
                </password>
                <password id="passwordCheck" label="Подтвердить пароль"
                          visible="${access.user.password.editable}" eye="false">
                    <validations white-list="newPasswordCheckValidation"/>
                    <dependencies>
                        <enabling on="newPassword">typeof newPassword != 'undefined' &amp;&amp; newPassword != null &amp;&amp; newPassword != ''</enabling>
                    </dependencies>
                </password>
            </row>
            <input-text id="surname" required="${access.user.surname.required}" length="100"/>
            <input-text id="name" required="${access.user.name.required}" length="100"/>
            <input-text id="patronymic" length="100"/>
            <row>
                <col size="10">
                    <input-select id="roles" type="multi" label="Роли" cache="false" required="true"
                                  query-id="${access.role.query.id}" value-field-id="id" label-field-id="name"/>
                </col>
                <col size="2">
                    <checkbox id="isActive" default-value="true"/>
                </col>
            </row>
        </fields>
    </form>
</simple-page>
