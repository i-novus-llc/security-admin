<?xml version='1.0' encoding='UTF-8'?>
<simple-page xmlns="http://n2oapp.net/framework/config/schema/page-2.0"
             name="Создание роли">
    <form upload="defaults" query-id="${access.role.query.id}">
        <fields>
            <input-text id="name" label="Название" required="true"/>
            <input-text id="code" label="Код" required="true"/>
            <input-text id="description" label="Описание"/>
            <input-select id="system" label="Система" query-id="system" required="${sec.admin.system-enabled}"
                          visible="${sec.admin.system-enabled}" label-field-id="name"/>
            <input-select-tree id="permissions" ajax="false" label="Права доступа" checkboxes="true" required="false">
                <inheritance-nodes parent-field-id="parentCode" label-field-id="name" value-field-id="id"
                                   query-id="${access.permission.query.id}" has-children-field-id="hasChildren"
                                   search-field-id="name">
                </inheritance-nodes>
                <pre-filters>
                    <eq field-id="systemCode" value="{system.id}"/>
                </pre-filters>
                <dependencies>
                    <set-value on="system" apply-on-init="false">
                        return null;
                    </set-value>
                </dependencies>
            </input-select-tree>
        </fields>
    </form>
</simple-page>
