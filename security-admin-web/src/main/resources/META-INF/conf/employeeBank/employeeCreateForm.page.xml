<?xml version='1.0' encoding='UTF-8'?>
<simple-page xmlns="http://n2oapp.net/framework/config/schema/page-2.0"
             name="Изменение пользователя">
    <form query-id="employeeBank" default-values-query-id="employeeBankDefault">
        <fields>
            <row>
                <input-text id="email" label="Email" required="true">
                    <validations>
                        <condition id="emailValidation" severity="danger">
                            <![CDATA[(function(){
                    if (typeof email != 'undefined' && email != null && email != '') {
                        var regex = new RegExp('[A-Za-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?');
                        return regex.test(email);
                    } else return true;
                    })()
                ]]>
                        </condition>
                    </validations>
                </input-text>
            </row>
            <row>
                <input-text id="surname" required="true"/>
            </row>
            <row>
                <input-text id="name" required="true"/>
            </row>
            <row>
                <input-text id="patronymic"/>
            </row>
            <row>
                <input-text id="position"/>

            </row>
            <row>
                <input-text id="username" required="true"/>
            </row>
            <row>
                <password id="password"
                          required="${sec.admin.user.password.input}" label="Пароль"/>
                <password id="passwordCheck"
                          required="${sec.admin.user.password.input}" label="Подтвердить пароль">

                </password>
            </row>
            <row>
                <input-select id="roles" type="multi" label="Роли" cache="false" required="true"
                              query-id="${sec.admin.role.query.id}" value-field-id="id" label-field-id="name"/>
            </row>
        </fields>
    </form>
</simple-page>
